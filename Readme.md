# database

```sql
 -- postgres ì»¨í…Œì´ë„ˆì— ì ‘ì†
docker exec -it postgres_db psql -U postgres

 -- ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ ë³´ê¸°
\l

-- postgres ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì†
\c postgres

-- í…Œì´ë¸” ëª©ë¡ ë³´ê¸°
\dt

-- ì›í•˜ëŠ” ì¿¼ë¦¬ ì‹¤í–‰
SELECT * FROM your_table;
```

# docker

```bash
# ì»¨í„°ì´ë„ˆ ë¡œê·¸ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ê¸°
docker logs -f django_app
```

# GraphQL

1. ğŸ” cursor

- ì˜ë¯¸: í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•œ ê³ ìœ í•œ ìœ„ì¹˜ í‘œì‹œì.

- ì—­í• : ì´ì „/ë‹¤ìŒ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ ê¸°ì¤€ì´ ë˜ëŠ” "í¬ì¸í„°"

ë„¤, ì§€ê¸ˆê¹Œì§€ íŒŒì•…í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ  
**ì‹ ì… ê°œë°œì ìê¸°ì†Œê°œ(êµ¬í˜„ì‚¬í•­ ì¤‘ì‹¬, Swagger UI í¬í•¨)** ì˜ˆì‹œë¥¼ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•´ë“œë¦½ë‹ˆë‹¤.

---

### ì‹ ì… ê°œë°œì ìê¸°ì†Œê°œ (êµ¬í˜„ì‚¬í•­ ì¤‘ì‹¬)

ì €ëŠ” ëŒ“ê¸€ ë¶„ì„ í”„ë¡œì íŠ¸ì˜ ë°±ì—”ë“œ ê°œë°œì„ ë‹´ë‹¹í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ê¸°ëŠ¥ì„ ì§ì ‘ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

---

#### 1. Django & PostgreSQL ê¸°ë°˜ ë°±ì—”ë“œ êµ¬ì¶•

- Django í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì˜ ì „ì²´ ë°±ì—”ë“œ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì‹¤ì œ ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ë™í•˜ì—¬, ëŒ“ê¸€ ë° ì‚¬ìš©ì ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥Â·ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- Django ORMì„ ì´ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ë™ ë° CRUD ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

#### 2. ìš”ì²­ ê¸°ë°˜ í¬ë¡¤ëŸ¬ ì—°ë™

- í¬ë¡¤ëŸ¬ ëª¨ë“ˆì„ ê°œë°œí•˜ì—¬, ì‚¬ìš©ìì˜ ìš”ì²­ì´ ìˆì„ ë•Œë§ˆë‹¤ ì™¸ë¶€ ì‚¬ì´íŠ¸ì—ì„œ ëŒ“ê¸€ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ìˆ˜ì§‘ëœ ë°ì´í„°ëŠ” Django ëª¨ë¸ì„ í†µí•´ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ë©°, ë°ì´í„°ì˜ ì‹ ë¢°ì„±ê³¼ ì¼ê´€ì„±ì„ í™•ë³´í•˜ì˜€ìŠµë‹ˆë‹¤.

#### 3. ì‚¬ìš©ì ì¸ì¦ ë° ê´€ë¦¬ ê¸°ëŠ¥

- ì‚¬ìš©ì íšŒì›ê°€ì…, ë¡œê·¸ì¸ ë“± ì¸ì¦ ê¸°ëŠ¥ì„ ì§ì ‘ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, JWT(Json Web Token) ê¸°ë°˜ ì¸ì¦ ë°©ì‹ì„ ì ìš©í•˜ì—¬ ë³´ì•ˆì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
- Djangoì˜ Custom User ëª¨ë¸ì„ ì ìš©í•˜ì—¬, ì„œë¹„ìŠ¤ì— ë§ëŠ” ì‚¬ìš©ì ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.

#### 4. RESTful API ë° Swagger UI ë¬¸ì„œí™”

- Django REST Frameworkë¥¼ í™œìš©í•˜ì—¬ ëŒ“ê¸€, ì‚¬ìš©ì ë“± ì£¼ìš” ê¸°ëŠ¥ì— ëŒ€í•œ RESTful APIë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- APIì˜ ëª…í™•í•œ ì‚¬ìš©ë²•ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Swagger UI(drf_yasg, drf_spectacular)ë¥¼ ë„ì…í•˜ì˜€ìœ¼ë©°,  
  ì´ë¥¼ í†µí•´ ê°œë°œì ë° í˜‘ì—…ìë“¤ì´ APIë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

#### 5. Docker í™˜ê²½ êµ¬ì„±

- Dockerfileê³¼ docker-compose.ymlì„ ì‘ì„±í•˜ì—¬, ê°œë°œ ë° ë°°í¬ í™˜ê²½ì˜ ì¼ê´€ì„±ì„ í™•ë³´í•˜ì˜€ìŠµë‹ˆë‹¤.
- Django ì„œë²„ì™€ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ê´€ë¦¬í•˜ì—¬, ëˆ„êµ¬ë‚˜ ì†ì‰½ê²Œ ë™ì¼í•œ í™˜ê²½ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

---

### ì„±ì¥ í¬ì¸íŠ¸

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ Djangoì™€ PostgreSQLì„ í™œìš©í•œ ì‹¤ì „ ë°±ì—”ë“œ ê°œë°œ ê²½í—˜ì„ ìŒ“ì•˜ìœ¼ë©°,  
RESTful API ì„¤ê³„, JWT ì¸ì¦, Swagger UI ê¸°ë°˜ì˜ API ë¬¸ì„œí™”, Docker í™˜ê²½ êµ¬ì„± ë“±  
ì‹¤ë¬´ì—ì„œ ìš”êµ¬ë˜ëŠ” ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ì§ì ‘ êµ¬í˜„í•´ë³´ë©° ë°±ì—”ë“œ ê°œë°œìë¡œì„œì˜ ì—­ëŸ‰ì„ í‚¤ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

---

**ì˜ˆì‹œ ë¬¸êµ¬(ì§§ê²Œ ìš”ì•½):**

> "ì €ëŠ” Djangoì™€ PostgreSQLì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ëŒ“ê¸€ ë¶„ì„ í”„ë¡œì íŠ¸ì˜ ë°±ì—”ë“œ ê°œë°œì„ ë‹´ë‹¹í•˜ì˜€ìœ¼ë©°, ìš”ì²­ ê¸°ë°˜ í¬ë¡¤ëŸ¬, JWT ì¸ì¦, Swagger UIë¥¼ í†µí•œ API ë¬¸ì„œí™”, Docker í™˜ê²½ êµ¬ì„± ë“± ì‹¤ë¬´ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§ì ‘ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤."

---

í•„ìš”ì— ë”°ë¼ ìœ„ ë‚´ìš©ì„ ìê¸°ì†Œê°œì„œ, í¬íŠ¸í´ë¦¬ì˜¤, ë©´ì ‘ ë‹µë³€ ë“±ì— ë§ê²Œ ì¡°ì •í•´ì„œ ì‚¬ìš©í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤!  
ë” êµ¬ì²´ì ì¸ ì½”ë“œ ì˜ˆì‹œë‚˜, ê°•ì¡°í•˜ê³  ì‹¶ì€ êµ¬í˜„ í¬ì¸íŠ¸ê°€ ìˆë‹¤ë©´ ì¶”ê°€ë¡œ ë§ì”€í•´ ì£¼ì„¸ìš”.

ì¢‹ìŠµë‹ˆë‹¤. `drf` (Django REST framework, DRF)ëŠ” Djangoì—ì„œ API ì„œë²„ë¥¼ ë§Œë“¤ ë•Œ ê±°ì˜ í•„ìˆ˜ì ì¸ ê°•ë ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
ì—¬ê¸°ì„œëŠ” DRFë¥¼ **ì²˜ìŒ ì„¤ì¹˜í•˜ê³  ê¸°ë³¸ ì„¸íŒ…**í•˜ëŠ” ê³¼ì •ì„ ì•ˆë‚´ë“œë¦´ê²Œìš”.

---

# í˜ì´ì§€ ë„¤ì´ì…˜

## âœ… 3ë‹¨ê³„: DRF ê¸°ë³¸ ì„¤ì • (ì„ íƒ)

`settings.py` í•˜ë‹¨ì— ì¶”ê°€:

```python
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination',
    'PAGE_SIZE': 20,
}
```

ì´ë ‡ê²Œ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ `limit=20`ìœ¼ë¡œ ì‘ë™í•˜ë©°, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ `limit`ê³¼ `offset`ì„ ë°›ì„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

> ğŸ‘‰ ì´ ì„¤ì •ì€ `GenericAPIView`ë‚˜ `ListAPIView`ì²˜ëŸ¼ DRFì˜ generic view ê¸°ë°˜ì¼ ë•Œ ìë™ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

---

## âœ… 4ë‹¨ê³„: ê¸°ë³¸ ë·° ì‚¬ìš© ì˜ˆì‹œ

```python
from rest_framework.generics import ListAPIView
from .models import Episode
from .serializers import EpisodeSerializer

class EpisodeListView(ListAPIView):
    queryset = Episode.objects.all()
    serializer_class = EpisodeSerializer
```

ì´ ë·°ëŠ” ì´ì œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ë™í•©ë‹ˆë‹¤:

```http
GET /api/episodes?limit=10&offset=30
```

---

## âœ… 5ë‹¨ê³„: Swagger ì„¸íŒ… (ì„ íƒ)

`urls.py`ì— Swagger UI ì¶”ê°€:

```python
from drf_yasg.views import get_schema_view
from drf_yasg import openapi
from rest_framework import permissions

schema_view = get_schema_view(
   openapi.Info(
      title="API ë¬¸ì„œ",
      default_version='v1',
      description="Swagger ë¬¸ì„œ ì˜ˆì‹œ",
   ),
   public=True,
   permission_classes=(permissions.AllowAny,),
)

urlpatterns = [
    ...
    path('swagger/', schema_view.with_ui('swagger', cache_timeout=0), name='schema-swagger-ui'),
]
```

ì´ì œ `/swagger/`ë¡œ ë“¤ì–´ê°€ë©´ ìë™ API ë¬¸ì„œë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”.

---

## âœ… ì •ë¦¬

| ë‹¨ê³„ | ì‘ì—…                                       |
| ---- | ------------------------------------------ |
| â‘     | `pip install djangorestframework drf-yasg` |
| â‘¡    | `INSTALLED_APPS`ì— ë“±ë¡                    |
| â‘¢    | `settings.py`ì— `REST_FRAMEWORK` ì„¤ì • ì¶”ê°€ |
| â‘£    | `ListAPIView` ì‚¬ìš©í•´ ê¸°ë³¸ pagination ì§€ì›  |
| â‘¤    | Swagger ë¬¸ì„œë¥¼ `/swagger/`ì— ì¶”ê°€ (ì„ íƒ)   |

---

ì›í•˜ì‹œë©´ ì§€ê¸ˆ í•˜ê³  ê³„ì‹  ì—í”¼ì†Œë“œ APIë¥¼ `ListAPIView` ê¸°ë°˜ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²ƒë„ ë„ì™€ë“œë¦´ê²Œìš”.
ê·¸ë¦¬ê³  `pagination_class`ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì„œ `max_limit` ì œí•œì„ ë„£ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
